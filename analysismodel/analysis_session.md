# Session分析

在用户的行为分析过程中，我们可以使用**事件分析**模块来分析用户的“点触发”类事件，例如一定时间范围内启动APP的次数，支付订单的次数等等。但在现实世界中，用户使用产品是一个“线触发”的过程，假设用户想要在内容型产品中阅读某个内容，那么用户需要经历如下过程：

​**启动产品→搜索/收藏/推荐→点击搜索结果/点击收藏的内容/点击推荐内容→开始阅读**​

以上就是一个“线触发”的过程，如果我们想要分析**搜索结果的匹配精度**或者**内容的质量**，这时单单靠分析“点触发”的事件就没有办法满足我们的需求，面对这类问题时，我们可以使用**Session分析模块**。

## Session定义

{% hint style="info" %}
Session：即会话或访问，指对特定用户在特定时间内的一系列行为的记录。

以现实生活为例，A先生进入了一座图书馆，办理了借书卡后进入阅览区，选择了一本书并办理了借书手续后，找了一个位子开始阅读，一段时间之后，A先生有事需要离开，办理了还书手续后离开了图书馆。这段例子中，A先生从**进入图书馆**到**离开图书馆**之间的所有行为，可以视为对图书馆的一次**访问**，也就是一个**Session**。
{% endhint %}

## 查询条件配置方法

![查询条件配置方法](<../.gitbook/assets/查询条件配置 (3).gif>)

用户进入**事件分析**模块，在**分析对象**处选择**Session**，即进入session分析模块。在使用session分析之前，用户需要结合产品及业务特点明确需要分析的问题，并根据目标问题创建Session，Session的创建方法请参考[Session管理](../management/session_management.md)。

### 选择Session规则与分析指标

使用Session模块进行数据分析需完成三项指标设置：**Session规则**、**分析对象**以及**分析指标**。

{% hint style="info" %}
Session规则：用户根据分析需求事先所创建的Session，每次只能针对一条Session进行分析。

分析对象：指标选择的左侧，可以选择分析Session的整体，或选择分析该Session规则内包含的某个事件，可选事件为创建Session时所选择的事件，均来源于元事件库。

分析指标：Session分析有五个通用指标可供选择，分别是**Session总次数，Session时长，用户数，人均Session次数，跳出率**，其余部分为**Session属性**。
{% endhint %}

数据分析工作台支持多个指标同时展示，在对第一个指标设置完成之后，点击**添加指标**按钮，即可添加另一个指标，具体设置方法与第一个指标相同。

以下为Session分析特有的几个通用指标的解释：

{% hint style="info" %}
Session总次数：选择时间范围内切割产生的Session总数。

用户数：选择时间范围内成功触发该Session规则的用户去重总数。

人均Session次数：选定时间范围内Session总次数/用户数。

跳出率：Session中只有一个事件的Session数/Session总数。

Session初始事件：单个Session内第一个触发的事件。

Session属性：所有Session初始事件携带属性的并集。
{% endhint %}

{% hint style="danger" %}
当分析用户群数大于1且分析维度数大于1时，最多选择1个事件指标
{% endhint %}

## 公共筛选条件

![公共筛选条件](<../.gitbook/assets/公共筛选条件 (5).gif>)

设置公共筛选条件后，将对事件分析中选择的所有事件指标同时进行筛选，筛选条件的属性来源于全部事件携带的事件属性合集与全部的用户属性。

具体的筛选条件计算规则请参考[筛选条件](../basic/filter.md)。

## 分析维度

![分析维度](<../.gitbook/assets/分析维度 (5).gif>)

选择分析维度后，事件分析的查询结果将按照维度值分组展示，维度可选项来源于查询条件中选择的事件所携带的事件属性以及全部的用户属性。

执行查询后，事件分析的结果图表将同时展示所有分组的数据，详细的分析维度规则请参考[分析维度](../basic/dimension.md)。

{% hint style="danger" %}
当事件指标大于1时且分析用户群数大于1时，最多选择1个分析维度
{% endhint %}

## 分析用户群

![分析用户群](<../.gitbook/assets/分析用户群 (7).gif>)

点击分析用户群下拉框，可以选择需要分析的特定用户群，此下拉框内的可选项来源于已经创建完成的用户分群，如何创建用户分群请参考[用户分群](../userdivision.md)。

{% hint style="danger" %}
当事件指标大于1且分析维度数大于1时，最多选择1个分析用户群
{% endhint %}

## 时间范围选择

![时间范围选择](../.gitbook/assets/时间范围选择.png)

点击图表展示区左侧的**时间范围选择器**，可以选择查询的数据时间范围。关于时间范围选择的详细信息请参考[时间范围](../basic/timerange.md)。

## Session分析结果图表

![图表示例](<../.gitbook/assets/图表组合 (1).png>)

Session分析的结果图表展示在页面的右侧，上方为图表，下方为数据表，在图表上方可以通过点击按钮的方式切换图表展示样式，Session分析支持的图表形式与[事件分析](analysis_event.md)相同。

## 保存书签

![保存与下载](../.gitbook/assets/保存与下载.png)

点击**保存**按钮后，可以将此次配置的查询条件保存为书签：

{% hint style="info" %}
书签名称：必填项，该书签的名称。

同时添加至数据看板：可选项，选择具体的数据看板后，此次配置的查询条件将保存为书签同时在选择的数据看板内展示。如此选项留空，则只会保存为书签，后续可在书签管理模块管理此书签。
{% endhint %}

## 数据下载

![保存与下载](../.gitbook/assets/保存与下载.png)

智能分析平台支持将数据下载至本地进行二次应用，点击**下载**按钮后，查询得到的数据将以csv的格式下载至本地，下载进度可以在页面上方的消息中心查看。
